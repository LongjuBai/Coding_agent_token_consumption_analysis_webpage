<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Primary Meta Tags -->
  <meta name="title" content="How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks">
  <meta name="description" content="First empirical analysis of agent token consumption patterns using agent trajectories. We explore predicting token costs before task execution and find input tokens dominate costs in agentic coding.">
  <meta name="keywords" content="AI agents, coding agents, token consumption, LLM agents, cost prediction, agentic coding, SWE-bench, OpenHands, machine learning, natural language processing">
  <meta name="author" content="Paper Authors">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Token Consumption Analysis Research">
  <meta property="og:title" content="How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks">
  <meta property="og:description" content="First empirical analysis of agent token consumption patterns using agent trajectories. We explore predicting token costs before task execution and find input tokens dominate costs in agentic coding.">
  <meta property="og:url" content="https://longjubai.github.io/Coding_agent_token_consumption/">
  <!-- TODO: Create a 1200x630px preview image and update path -->
  <meta property="og:image" content="https://longjubai.github.io/Coding_agent_token_consumption/static/images/social_preview.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="PAPER_TITLE - Research Preview">
  <meta property="article:published_time" content="2024-01-01T00:00:00.000Z">
  <meta property="article:author" content="FIRST_AUTHOR_NAME">
  <meta property="article:section" content="Research">
  <meta property="article:tag" content="KEYWORD1">
  <meta property="article:tag" content="KEYWORD2">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks">
  <meta name="twitter:description" content="First empirical analysis of agent token consumption patterns using agent trajectories. We explore predicting token costs before task execution and find input tokens dominate costs in agentic coding.">
  <!-- TODO: Same as social preview image above -->
  <meta name="twitter:image" content="https://longjubai.github.io/Coding_agent_token_consumption/static/images/social_preview.png">
  <meta name="twitter:image:alt" content="PAPER_TITLE - Research Preview">

  <!-- Academic/Research Specific -->
  <meta name="citation_title" content="How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks">
  <meta name="citation_publication_date" content="2026">
  <meta name="citation_conference_title" content="COLM 2026">
  <meta name="citation_pdf_url" content="https://YOUR_DOMAIN.com/static/pdfs/paper.pdf">
  
  <!-- Additional SEO -->
  <meta name="theme-color" content="#2563eb">
  <meta name="msapplication-TileColor" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://ajax.googleapis.com">
  <link rel="preconnect" href="https://documentcloud.adobe.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">


  <title>How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks | Academic Research</title>
  
  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/x-icon" href="static/images/favicon_new.ico">
  <link rel="apple-touch-icon" href="static/images/favicon_new.ico">
  
  <!-- Critical CSS - Load synchronously -->
  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  
  <!-- Non-critical CSS - Load asynchronously -->
  <link rel="preload" href="static/css/bulma-carousel.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="static/css/bulma-slider.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="static/css/fontawesome.all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  <!-- Fallback for browsers that don't support preload -->
  <noscript>
    <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="static/css/bulma-slider.min.css">
    <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  </noscript>
  
  <!-- Fonts - Optimized loading -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Defer non-critical JavaScript -->
  <script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script defer src="static/js/bulma-carousel.min.js"></script>
  <script defer src="static/js/bulma-slider.min.js"></script>
  <script defer src="static/js/index.js?v=20260222c"></script>
  
  <!-- Structured Data for Academic Papers -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ScholarlyArticle",
    "headline": "How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks",
    "description": "First empirical analysis of agent token consumption patterns using agent trajectories. We explore predicting token costs before task execution and find input tokens dominate costs in agentic coding.",
    "author": [
      {
        "@type": "Person",
        "name": "Paper Authors"
      }
    ],
    "datePublished": "2026",
    "publisher": {
      "@type": "Organization",
      "name": "COLM 2026"
    },
    "url": "https://longjubai.github.io/Coding_agent_token_consumption/",
    "image": "https://longjubai.github.io/Coding_agent_token_consumption/static/images/social_preview.png",
    "keywords": ["AI agents", "coding agents", "token consumption", "LLM agents", "cost prediction", "agentic coding", "SWE-bench", "OpenHands"],
    "abstract": "AI agents offer substantial opportunities to increase human productivity across many tasks. However, their use in complex workflows also drives rapid growth in LLM token consumption. When agents are deployed on tasks that can require millions of tokens, two questions naturally arise: how do agents consume LLM tokens, and can we predict token usage before task execution? In this paper, we use the OpenHands coding agent as a case study and present the first empirical analysis of agent token consumption patterns using agent trajectories. We further explore the possibility of predicting token costs before task execution. We find that (1) Agent token consumption has inherent randomness even when executing the same tasks; (2) Unlike chat and reasoning tasks, input tokens dominate overall consumption and cost, even with token caching; (3) Predicting output-token amounts and the range of total consumption can achieve weak-to-moderate correlation, offering limited but nontrivial predictive signal. Surprisingly, we also find that (4) Higher token usage does not lead to higher accuracy, as tasks and runs that cost more tokens are usually associated with lower accuracy. We believe our study provides new and useful insights that can impact decisions around token consumptions for the growing number of AI agentic tasks.",
    "isAccessibleForFree": true,
    "license": "https://creativecommons.org/licenses/by/4.0/",
    "mainEntity": {
      "@type": "WebPage",
      "@id": "https://longjubai.github.io/Coding_agent_token_consumption/"
    },
    "about": [
      {
        "@type": "Thing",
        "name": "AI Agents"
      },
      {
        "@type": "Thing", 
        "name": "Token Consumption Analysis"
      }
    ]
  }
  </script>
  
  <!-- Website/Organization Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Token Consumption Analysis Research",
    "url": "https://YOUR_INSTITUTION_WEBSITE.com",
    "logo": "https://longjubai.github.io/Coding_agent_token_consumption/static/images/favicon_new.ico"
  }
  </script>
</head>
<body>


  <!-- Scroll to Top Button -->
  <button class="scroll-to-top" onclick="scrollToTop()" title="Scroll to top" aria-label="Scroll to top">
    <i class="fas fa-chevron-up"></i>
  </button>


  <main id="main-content">
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">How Do Coding Agents Spend Your Money?<br>Analyzing and Predicting Token Consumptions in Agentic Coding Tasks</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">Longju Bai,</span>
              <span class="author-block">Zhemin Huang,</span>
              <span class="author-block">Xingyao Wang,</span>
              <span class="author-block">Jiao Sun,</span>
              <span class="author-block">Rada Mihalcea,</span>
              <span class="author-block">Erik Brynjolfsson,</span>
              <span class="author-block">Alex Pentland,</span>
              <span class="author-block">Jiaxin Pei</span>
            </div>
            
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                University of Michigan ¬∑ Stanford University ¬∑ AllHands AI ¬∑ Google DeepMind ¬∑ MIT<br>
                Preprint ¬∑ February 2026
              </span>
            </div>
            

                  <div class="column has-text-centered">
                    <div class="publication-links">

                      <!-- arXiv -->
                      <span class="link-block">
                        <a href="https://arxiv.org/abs/<ARXIV_PAPER_ID>" target="_blank"
                           class="external-link button is-normal is-rounded is-dark">
                          <span class="icon">
                            <i class="ai ai-arxiv"></i>
                          </span>
                          <span>arXiv</span>
                        </a>
                      </span>
                    
                      <!-- Code -->
                      <span class="link-block">
                        <a href="#" onclick="alert('Code will be released after publication.'); return false;"
                           class="external-link button is-normal is-rounded is-dark">
                          <span class="icon">
                            <i class="fab fa-github"></i>
                          </span>
                          <span>Code</span>
                        </a>
                      </span>
                    
                      <!-- Hugging Face -->
                      <span class="link-block">
                        <a href="https://huggingface.co/datasets" target="_blank" rel="noopener noreferrer"
                           class="external-link button is-normal is-rounded is-dark">
                          <span class="icon" aria-hidden="true">ü§ó</span>
                          <span>Hugging Face</span>
                        </a>
                      </span>
                    
                    </div>
                    
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            AI agents have been widely adopted in daily human tasks. However, their use in complex workflows also drives rapid growth in LLM token consumption. In this paper, we use "token consumption" to refer to both input and output tokens used by LLM agents. When agents are deployed on tasks that can require millions of tokens, three questions naturally arise: <strong>(1) Where do AI agents spend tokens? (2) Which models are more token-efficient? (3) Can we predict token usage before task execution?</strong> In this paper, we use the OpenHands coding agent as a case study and present the first quantitative analysis of agent token consumption patterns using agent trajectories on SWE-Bench. We further explore the possibility of predicting token costs before task execution.
          </p>
          <p>
            We find that (1) agent token consumption has inherent randomness even when executing the same tasks; (2) unlike chat and reasoning tasks, input tokens dominate overall consumption and cost, even with token caching; (3) predicting output-token amounts and the range of total consumption can achieve weak-to-moderate correlation, offering limited but nontrivial predictive signal; and (4) higher token usage does not lead to higher accuracy, as tasks and runs that cost more tokens are usually associated with lower accuracy. We believe our study provides useful insights for token budgeting decisions in the growing number of AI agentic tasks.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->



<!-- Key Findings + multi-panel figures -->
<section class="section">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Key Findings</h2>

    <div class="content">

      <div class="box">
        <h3 class="title is-5">1) Agentic coding is uniquely expensive</h3>
        <p>
          Comparison of three coding paradigms: <em>Code Reasoning</em> (single-turn problem solving without tool interaction),
          <em>Code Chat</em> (multi-turn dialogue with moderate response expansion), and <em>Coding Agent</em> (tool-augmented,
          repository-level exploration with long-horizon context). Agentic coding tasks consume substantially more tokens and incur
          significantly higher monetary costs than the other two paradigms.
        </p>

        <!-- Figure 1 -->
        <div class="columns is-centered" style="margin-top: 0.75rem;">
          <div class="column is-10">
            <figure class="image">
              <img src="static/images/fig1.png" alt="Token consumption comparison across different coding tasks" loading="lazy">
            </figure>
            <p class="has-text-centered is-size-7" style="margin-top: 0.5rem;">
              <strong>Token consumption across different coding-related tasks.</strong>
            </p>
          </div>
        </div>
      </div>

      <div class="box">
        <h3 class="title is-5">2) Token usage is highly variable</h3>
        <p>
          Costs differ substantially across backbone models, and token usage can vary dramatically across runs of the same task.
          Model ordering remains similar on a success-only subset, while absolute costs are lower than the full set.
        </p>

        <!-- Figure 2 -->
        <div class="columns is-centered" style="margin-top: 0.75rem;">
          <div class="column is-11">
            <figure class="image">
              <img src="static/images/fig2.png" alt="Figure 2: Model-dependent cost differences and variability across problems and runs" loading="lazy" style="display:block; width:100%; height:auto; margin:0 auto;">
            </figure>
          </div>
        </div>
        <p class="has-text-centered is-size-7">
          <strong>Model-dependent cost differences and large variability across problems and runs.</strong>
        </p>
      </div>

      <div class="box">
        <h3 class="title is-5">3) More tokens does not mean better performance</h3>
        <p>
          Accuracy peaks at intermediate cost and degrades at higher cost, consistent with an inverse test-time scaling phenomenon:
          extra computation often reflects inefficient exploration and context bloat rather than better problem solving.
        </p>

        <!-- Figure 3 (two panels) -->
        <div class="columns is-variable is-4 is-multiline is-centered" style="margin-top: 0.75rem;">
          <div class="column is-12-mobile is-6-desktop">
            <figure class="image">
              <img src="static/images/fig3a.png" alt="Figure 3a: Accuracy vs mean prompt tokens" loading="lazy" class="equal-height-plot">
            </figure>
          </div>
          <div class="column is-12-mobile is-6-desktop">
            <figure class="image">
              <img src="static/images/fig3b_new.png" alt="Figure 3b: Accuracy by within-problem cost bins" loading="lazy" class="equal-height-plot">
            </figure>
          </div>
        </div>
        <p class="has-text-centered is-size-7">
          <strong>Inverse test-time scaling: higher-cost runs are usually less accurate.</strong>
        </p>
      </div>

      <div class="box">
        <h3 class="title is-5">5) Human difficulty ‚â† model cost</h3>
        <p>
          While harder tasks tend to consume more resources on average, many ‚Äúeasy‚Äù tasks can still be expensive, and many ‚Äúhard‚Äù
          tasks can be solved cheaply. Notably, <strong>11.51%</strong> of tasks labeled as "&lt;15-minute" required more total
          tokens than the average "&gt;1-hour" instance, and <strong>27.38%</strong> of "&gt;1-hour" tasks consumed fewer tokens
          than the "&lt;15-minute" group.
        </p>

        <!-- Figure 5 -->
        <div class="columns is-centered" style="margin-top: 0.75rem;">
          <div class="column is-10">
            <figure class="image">
              <img src="static/images/fig5.png" alt="Figure 5: Token and tool usage across difficulty levels" loading="lazy">
            </figure>
            <p class="has-text-centered is-size-7" style="margin-top: 0.5rem;">
              <strong>Difficulty labels only weakly align with agent resource expenditure.</strong>
            </p>
          </div>
        </div>
      </div>

      <div class="box">
        <h3 class="title is-5">6) Where tokens go across phases</h3>
        <p>
          Across phases, context reuse grows steadily. Early costs are dominated by context construction, while later costs shift toward
          token-intensive generation.
        </p>

        <!-- Figure 6 (three panels) -->
        <div class="columns is-variable is-4 is-multiline is-centered" style="margin-top: 0.75rem;">
          <div class="column is-4">
            <figure class="image">
              <img src="static/images/fig6a_phase_tokens.png" alt="Figure 6a: Phase-level token volume by type" loading="lazy">
            </figure>
          </div>
          <div class="column is-4">
            <figure class="image">
              <img src="static/images/fig6b_phase_cost.png" alt="Figure 6b: Phase-level cost by token type" loading="lazy">
            </figure>
          </div>
          <div class="column is-4">
            <figure class="image">
              <img src="static/images/fig6c_phase_correlation.png" alt="Figure 6c: Correlation between token types and total cost" loading="lazy">
            </figure>
          </div>
        </div>
        <p class="has-text-centered is-size-7">
          <strong>Phase-level token usage and cost dynamics across the trajectory.</strong>
        </p>
      </div>

      <div class="box">
        <h3 class="title is-5">7) Self-prediction gives a coarse cost signal</h3>
        <p>
          Asking the agent to estimate its own token usage achieves weak-to-moderate correlations with ground truth across models.
          Output-token prediction tends to be easier than input-token prediction.
        </p>

        <!-- Figure 7 -->
        <div class="columns is-centered" style="margin-top: 0.75rem;">
          <div class="column is-10">
            <figure class="image">
              <img src="static/images/fig7.png" alt="Self-prediction results showing correlations between predicted and ground-truth token counts" loading="lazy">
            </figure>
            <p class="has-text-centered is-size-7" style="margin-top: 0.5rem;">
              <strong>Pearson correlations between predicted and ground-truth token counts, plus relative overhead of self-prediction.</strong>
            </p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>










<!-- Interactive Token Guessing Game -->
<section class="section is-light" id="TokenGuessingGame">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Can You Guess the Token Cost?</h2>
    <p class="subtitle has-text-centered">Test your intuition about agent token consumption</p>
    
    <div class="box has-text-centered">
      <p class="is-size-5" style="margin-bottom: 1.5rem;">
        Challenge yourself to predict token consumption and costs for real coding agent tasks!
      </p>
      <a href="game.html" class="button is-primary is-large">
        <span>Play the Guessing Game</span>
      </a>
    </div>
  </div>
</section>

<!-- Leaderboard -->
<section class="section" id="Leaderboard">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Leaderboard</h2>
    <p class="subtitle has-text-centered">Most Accurate Human Predictions</p>
    
    <div class="box">
      <div class="table-container" style="overflow-x: auto;">
        <table class="table is-striped is-fullwidth is-hoverable">
          <thead>
            <tr>
              <th>Rank</th>
              <th>Problem ID</th>
              <th>Guessed Tokens</th>
              <th>Actual Tokens</th>
              <th>Guessed Cost ($)</th>
              <th>Actual Cost ($)</th>
              <th>Token Error %</th>
              <th>Cost Error %</th>
              <th>Combined Error %</th>
            </tr>
          </thead>
          <tbody id="leaderboardTableBody">
            <tr>
              <td colspan="9" class="has-text-centered">
                    <p class="is-size-6">No guesses yet. <a href="game.html">Play the game</a> to see your predictions here!</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <div class="bibtex-header">
        <h2 class="title">BibTeX</h2>
        <button class="copy-bibtex-btn" onclick="copyBibTeX()" title="Copy BibTeX to clipboard">
          <i class="fas fa-copy"></i>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <pre id="bibtex-code"><code>@article{bai2026tokenconsumption,
        title   = {How Do Coding Agents Spend Your Money? Analyzing and Predicting Token Consumptions in Agentic Coding Tasks},
        author  = {Bai, Longju and Huang, Zhemin and Wang, Xingyao and Sun, Jiao and Mihalcea, Rada and Brynjolfsson, Erik and Pentland, Alex and Pei, Jiaxin},
        journal = {Preprint},
        year    = {2026},
        url     = {https://arxiv.org/abs/<ARXIV_PAPER_ID>}
      }</code></pre>
      
    </div>
</section>
<!--End BibTex citation -->


  <footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the¬†<a href="https://nerfies.github.io" target="_blank">Nerfies</a>¬†project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Statcounter tracking code -->
  
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>
